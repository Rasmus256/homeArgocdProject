apiVersion: broker.amq.io/v1beta1
kind: ActiveMQArtemis
metadata:
  name: amq
  namespace: adventofcode
  labels:
    io.kompose.service: amq
spec:
  deploymentPlan:
    size: 1
    image: placeholder
  acceptors:
  - name: "stomp"
    port: 61613
    protocols: stomp
---
apiVersion: broker.amq.io/v1alpha1
kind: ActiveMQArtemisSecurity
metadata:
  name: adventofcode-amq-security
  namespace: adventofcode
spec:
  securitySettings:
    broker:
    - match: 'adventofcode.#'
      permissions:
      - operationType: 'consume'
        roles:
        - adventofcode
      - operationType: 'send'
        roles:
        - adventofcode
